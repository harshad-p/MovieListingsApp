@using MovieListingsApp.Models.MovieModels
@model CreateViewModel

@{
    ViewData["Title"] = "Create Movie";
    var actors = ViewBag.actors as IEnumerable<SelectListItem>;
}

@section Styles{
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">
}

<div id="create-movie-div" class="container">

    <h1 class="page-heading">Create</h1>
    <hr />

    <div id="create-movie-form-div" class="p-4 gray-highlight border border-secondary rounded">

        <h3 class="">Movie</h3>

        <hr class="thin bg-grayBlue">

        @using (Html.BeginForm("Create", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {
            <div>
                @Html.AntiForgeryToken()
            </div>

            <div class="form-group row">
                <div class="col-md-3">
                    @Html.LabelFor(m => m.Title, new { @class = "control-label font-weight-bold mb-0" })
                    <div><small class="font-weight-bold text-secondary">(Required)</small></div>
                </div>
                <div class="col-md-9">
                    @Html.TextBoxFor(m => m.Title, new { autocomplete = "off", placeholder = "What is the name of this Movie?", @class = "form-control" })
                    <div class="text-danger">
                        @Html.ValidationMessageFor(m => m.Title)
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <div class="col-md-3">
                    @Html.LabelFor(m => m.Description, new { @class = "control-label font-weight-bold mb-0" })
                    <div><small class="font-weight-bold text-secondary">(Required)</small></div>
                </div>
                <div class="col-md-9">
                    @Html.TextBoxFor(m => m.Description, new { autocomplete = "off", placeholder = "How would you like to describe this Movie?", @class = "form-control" })
                    <div class="text-danger">
                        @Html.ValidationMessageFor(m => m.Description)
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <div class="col-md-3">
                    @Html.LabelFor(m => m.Year, new { @class = "control-label font-weight-bold mb-0" })
                    <div><small class="font-weight-bold text-secondary">(Required)</small></div>
                </div>
                <div class="col-md-9">
                    @Html.TextBoxFor(m => m.Year, new { autocomplete = "off", placeholder = "What year was the Movie released?", @class = "form-control" })
                    <div class="text-danger">
                        @Html.ValidationMessageFor(m => m.Year)
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <div class="col-md-3">
                    @Html.LabelFor(m => m.Actors, new { @class = "control-label font-weight-bold mb-0" })
                    <div><small class="font-weight-bold text-secondary">(Required)</small></div>
                </div>
                <div class="col-md-9">
                    @Html.ListBoxFor(m => m.Actors, actors, new { @class = "form-control" })
                    <div class="text-danger">
                        @Html.ValidationMessageFor(m => m.Actors)
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <div class="col-md-3">
                    @Html.LabelFor(m => m.Thumbnails, new { @class = "control-label font-weight-bold mb-0" })
                    <div><small class="font-weight-bold text-secondary">(Required)</small></div>
                </div>
                <div class="col-md-9">
                    @Html.TextBoxFor(m => m.Thumbnails, new { type = "file", @multiple = "multiple", @class = "form-control" })
                    <div class="text-danger">
                        @Html.ValidationMessageFor(m => m.Thumbnails)
                    </div>
                </div>
            </div>

            <div class="form-group mt-4">
                <button type="submit" class="btn btn-primary mb-2 slow-loading-element">
                    <i class="fas fa-plus-circle"></i> Create
                </button>

                <a href="~/Home"
                   class="btn btn-outline-secondary mb-2 slow-loading-element"
                   role="button">
                    <i class="far fa-times-circle"></i> Cancel
                </a>
            </div>
        }
    </div>
</div>

@*@Html.Partial("_FailureMessages")*@

@section Scripts{
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>

    <script>

        $(document).ready(function () {

            transformIntoBootstrapSelectList();
        });

        function transformIntoBootstrapSelectList() {

            $('.bootstrap-select-dropdown-list').selectpicker({
            });
        }

    </script>
}
